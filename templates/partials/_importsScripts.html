{% load static %}

<script src="{% static 'Sources/script.js' %}"></script>
<!--22 arquivos-->
<!-- jQuery -->
<script src="{% static 'AdminLTE/plugins/jquery/jquery.min.js' %}"></script>
<!-- jQuery UI 1.11.4 -->
<script src="{% static 'AdminLTE/plugins/jquery-ui/jquery-ui.min.js' %}"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
  $.widget.bridge('uibutton', $.ui.button)
</script>
<!-- Bootstrap 4 -->
<script src="{% static 'AdminLTE/plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<!-- ChartJS -->
<script src="{% static 'AdminLTE/plugins/chart.js/Chart.min.js' %}"></script>
<!-- Sparkline -->
<script src="{% static 'AdminLTE/plugins/sparklines/sparkline.js' %}"></script>
<!-- JQVMap -->
<script src="{% static 'AdminLTE/plugins/jqvmap/jquery.vmap.min.js' %}"></script>
<script src="{% static 'AdminLTE/plugins/jqvmap/maps/jquery.vmap.usa.js' %}"></script>
<!-- jQuery Knob Chart -->
<script src="{% static 'AdminLTE/plugins/jquery-knob/jquery.knob.min.js' %}"></script>
<!-- daterangepicker -->
<script src="{% static 'AdminLTE/plugins/moment/moment.min.js' %}"></script>
<script src="{% static 'AdminLTE/plugins/daterangepicker/daterangepicker.js' %}"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="{% static 'AdminLTE/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js' %}"></script>
<!-- Summernote -->
<script src="{% static 'AdminLTE/plugins/summernote/summernote-bs4.min.js' %}"></script>
<!-- overlayScrollbars -->
<script src="{% static 'AdminLTE/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js' %}"></script>
<!-- AdminLTE App -->
<script src="{% static 'AdminLTE/dist/js/adminlte.js' %}"></script>
<!-- AdminLTE for demo purposes -->
<script src="{% static 'AdminLTE/dist/js/demo.js' %}"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="{% static 'AdminLTE/dist/js/pages/dashboard.js' %}"></script>
<!-- jQuery Mapael -->
<script src="{% static 'AdminLTE/plugins/jquery-mousewheel/jquery.mousewheel.js' %}"></script>
<script src="{% static 'AdminLTE/plugins/raphael/raphael.min.js' %}"></script>
<script src="{% static 'AdminLTE/plugins/jquery-mapael/jquery.mapael.min.js' %}"></script>
<script src="{% static 'AdminLTE/plugins/jquery-mapael/maps/usa_states.min.js' %}"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="{% static 'AdminLTE/dist/js/pages/dashboard2.js' %}"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="{% static 'AdminLTE/dist/js/pages/dashboard3.js' %}"></script>
<script src="{% static 'Sources/jquery.mask.min.js' %}"></script>
<script>
  $('#cep').mask('99999-999')
  $('#cpf').mask('999.999.999-99')
  $('#phone').mask('+99 (99) 99999-9999')
  $('#whatsapp-input').mask('+99 (99) 99999-9999')
  $('#birth-date').mask('9999-99-99')
</script>

<!--Date Picker Script-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/locales/bootstrap-datepicker.pt-BR.min.js"></script>

<script>
$('.datepicker').datepicker({
    format: 'yyyy-mm-dd',
    language: 'pt-BR',
    endDate: '-4y',
});

$('.password').keyup(function() {
  $(this).popover({
    html: true,
    trigger: 'focus',
    placement: 'top',
    content: function() {
      let diversity = isAlphaNumeric(this.value)
          popoverVerification = ''
          hasDefines = 'M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z'
          hasntDefines = 'M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z'
          hasClass = 'password-verification-has'
          hasntClass = 'password-verification-hasnt'    
          divPopover = document.createElement('div')
      divPopover.innerHTML = ''

      if (diversity.hasNumber) {
        divPopover.append(createPasswordVerificationSVG(hasClass, hasDefines))
      }
      else {
        divPopover.append(createPasswordVerificationSVG(hasntClass, hasntDefines))
      }
      divPopover.innerHTML += 'Possui número<br>'

      if (diversity.hasLowLetter) {
        divPopover.append(createPasswordVerificationSVG(hasClass, hasDefines))
      }
      else {
        divPopover.append(createPasswordVerificationSVG(hasntClass, hasntDefines))
      }
      divPopover.innerHTML += 'Possui letra minúscula<br>'

      if (diversity.hasHighLetter) {
        divPopover.append(createPasswordVerificationSVG(hasClass, hasDefines))
      }
      else {
        divPopover.append(createPasswordVerificationSVG(hasntClass, hasntDefines))
      }
      divPopover.innerHTML += 'Possui letra maiúscula<br>'
      
      if (this.value.length > 7) {
        divPopover.append(createPasswordVerificationSVG(hasClass, hasDefines))
      }
      else {
        divPopover.append(createPasswordVerificationSVG(hasntClass, hasntDefines))
      }
      divPopover.innerHTML += 'Possui 8 caracteres<br>'
      return divPopover
    }
  })
  $(this).popover('show')
})
</script>

<script>
  //Script de aid.html
let socialRadio = document.getElementsByClassName('social-medias')

for (i=0; i < socialRadio.length; i++) {
    socialRadio[i].onclick = function() {
        let aidHelp = document.getElementById('aid-help')
        if (this.classList.contains('selected')) {
            this.classList.remove('selected')
            aidHelp.setAttribute('disabled','')
            aidHelp.parentElement.removeAttribute('href')
        }
        else {
            for (i=0; i < socialRadio.length; i++) {
                socialRadio[i].classList.remove('selected')
            }
            this.classList.add('selected')
            aidHelp.removeAttribute('disabled')
            if (this.getAttribute('mensage')) {
              aidHelp.parentElement.setAttribute('href',this.getAttribute('href') + '&text=' + this.getAttribute('mensage'))              
            }
            else {
              aidHelp.parentElement.setAttribute('href',this.getAttribute('href'))
            }
        }
        $('#whatsapp').popover('hide')
    }
}

$('#whatsapp').popover({
  html:true,
  placement:'top',
  content: whatsappMensage($('#whatsapp').attr('mensage')),
})
$('#whatsapp').click(function() {
  if (!($(this).hasClass('selected'))) {
    $(this).popover('hide')
  }
  else {
    $('#whatsapp-close').click(function() {
      $('#whatsapp').popover('hide')
    })
    $('#whatsapp-mensage').keyup(function() {
      $('#aid-help').parent().attr('href',$('#whatsapp').attr('href') + '&text=' + $(this).val() )
    })
  }
})

function whatsappMensage(mensage) {
  let label = document.createElement('label')
  let div_card = document.createElement('div')
  let card_header = document.createElement('div')
  let mensage_title = document.createElement('h3')
  let mensage_close = document.createElementNS('http://www.w3.org/2000/svg', 'svg')
  let mensage_close_path = document.createElementNS('http://www.w3.org/2000/svg', 'path')
  let close_path_defines = 'M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z'
  let textarea = document.createElement('textarea')
  let card_body = document.createElement('div')
  
  label.setAttribute('for','whatsapp-mensage')
  
  card_header.classList.add('mensage-header')
  
  mensage_title.classList.add('mensage-title')
  mensage_title.innerText = 'Mensagem'
  
  mensage_close.classList.add('x-close')
  mensage_close.setAttribute('id','whatsapp-close')
  mensage_close.setAttribute('viewBox','0 0 16 16')
  mensage_close.setAttribute('fill','currentColor')
  mensage_close_path.setAttribute('d',close_path_defines)
  
  card_body.classList.add('card-body')
  card_body.classList.add('p-0')
  
  textarea.setAttribute('id','whatsapp-mensage')
  textarea.classList.add('form-control')
  textarea.classList.add('desc-textarea')
  textarea.setAttribute('cols','25')
  textarea.setAttribute('rows','5')
  textarea.innerText = mensage
  
  
  mensage_close.appendChild(mensage_close_path)
  card_header.appendChild(mensage_title)
  card_header.appendChild(mensage_close)
  div_card.appendChild(card_header)
  card_body.appendChild(textarea)
  div_card.appendChild(card_body)
  label.appendChild(div_card)

  return label
}
</script>
<!------------------------------------------------------------------>